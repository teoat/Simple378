import{i as mn,f as Vt,g as gn,h as Lt,j as yn,k as dn,l as vn}from"./viz-vendor-Yg1nQkEx.js";var wn={value:()=>{}};function wt(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new ht(e)}function ht(t){this._=t}function xn(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}ht.prototype=wt.prototype={constructor:ht,on:function(t,n){var e=this._,r=xn(t+"",e),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(t=r[o]).type)&&(i=bn(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<u;)if(i=(t=r[o]).type)e[i]=Bt(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Bt(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ht(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function bn(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Bt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=wn,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var St="http://www.w3.org/1999/xhtml";const Ot={svg:"http://www.w3.org/2000/svg",xhtml:St,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xt(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ot.hasOwnProperty(n)?{space:Ot[n],local:t}:t}function An(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===St&&n.documentElement.namespaceURI===St?n.createElement(t):n.createElementNS(e,t)}}function Tn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ht(t){var n=xt(t);return(n.local?Tn:An)(n)}function En(){}function Mt(t){return t==null?En:function(){return this.querySelector(t)}}function zn(t){typeof t!="function"&&(t=Mt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=new Array(u),c,l,h=0;h<u;++h)(c=o[h])&&(l=t.call(c,c.__data__,h,o))&&("__data__"in c&&(l.__data__=c.__data__),a[h]=l);return new I(r,this._parents)}function Sn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function kn(){return[]}function Kt(t){return t==null?kn:function(){return this.querySelectorAll(t)}}function Nn(t){return function(){return Sn(t.apply(this,arguments))}}function Cn(t){typeof t=="function"?t=Nn(t):t=Kt(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u=n[o],a=u.length,c,l=0;l<a;++l)(c=u[l])&&(r.push(t.call(c,c.__data__,l,u)),i.push(c));return new I(r,i)}function Wt(t){return function(){return this.matches(t)}}function Zt(t){return function(n){return n.matches(t)}}var Dn=Array.prototype.find;function Mn(t){return function(){return Dn.call(this.children,t)}}function In(){return this.firstElementChild}function Fn(t){return this.select(t==null?In:Mn(typeof t=="function"?t:Zt(t)))}var Pn=Array.prototype.filter;function Rn(){return Array.from(this.children)}function $n(t){return function(){return Pn.call(this.children,t)}}function Vn(t){return this.selectAll(t==null?Rn:$n(typeof t=="function"?t:Zt(t)))}function Ln(t){typeof t!="function"&&(t=Wt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=[],c,l=0;l<u;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new I(r,this._parents)}function Jt(t){return new Array(t.length)}function Bn(){return new I(this._enter||this._groups.map(Jt),this._parents)}function gt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}gt.prototype={constructor:gt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function On(t){return function(){return t}}function Xn(t,n,e,r,i,o){for(var u=0,a,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new gt(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function Yn(t,n,e,r,i,o,u){var a,c,l=new Map,h=n.length,b=o.length,g=new Array(h),y;for(a=0;a<h;++a)(c=n[a])&&(g[a]=y=u.call(c,c.__data__,a,n)+"",l.has(y)?i[a]=c:l.set(y,c));for(a=0;a<b;++a)y=u.call(t,o[a],a,o)+"",(c=l.get(y))?(r[a]=c,c.__data__=o[a],l.delete(y)):e[a]=new gt(t,o[a]);for(a=0;a<h;++a)(c=n[a])&&l.get(g[a])===c&&(i[a]=c)}function qn(t){return t.__data__}function Un(t,n){if(!arguments.length)return Array.from(this,qn);var e=n?Yn:Xn,r=this._parents,i=this._groups;typeof t!="function"&&(t=On(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),l=0;l<o;++l){var h=r[l],b=i[l],g=b.length,y=Gn(t.call(h,h&&h.__data__,l,r)),N=y.length,D=a[l]=new Array(N),L=u[l]=new Array(N),v=c[l]=new Array(g);e(h,b,D,L,v,y,n);for(var F=0,M=0,p,A;F<N;++F)if(p=D[F]){for(F>=M&&(M=F+1);!(A=L[M])&&++M<N;);p._next=A||null}}return u=new I(u,r),u._enter=a,u._exit=c,u}function Gn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hn(){return new I(this._exit||this._groups.map(Jt),this._parents)}function Kn(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Wn(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),c=0;c<u;++c)for(var l=e[c],h=r[c],b=l.length,g=a[c]=new Array(b),y,N=0;N<b;++N)(y=l[N]||h[N])&&(g[N]=y);for(;c<i;++c)a[c]=e[c];return new I(a,this._parents)}function Zn(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],u;--i>=0;)(u=r[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function Jn(t){t||(t=Qn);function n(b,g){return b&&g?t(b.__data__,g.__data__):!b-!g}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u=e[o],a=u.length,c=i[o]=new Array(a),l,h=0;h<a;++h)(l=u[h])&&(c[h]=l);c.sort(n)}return new I(i,this._parents).order()}function Qn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function jn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function te(){return Array.from(this)}function ne(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function ee(){let t=0;for(const n of this)++t;return t}function re(){return!this.node()}function ie(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,u=i.length,a;o<u;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function oe(t){return function(){this.removeAttribute(t)}}function ue(t){return function(){this.removeAttributeNS(t.space,t.local)}}function se(t,n){return function(){this.setAttribute(t,n)}}function ae(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ce(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function le(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function fe(t,n){var e=xt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?ue:oe:typeof n=="function"?e.local?le:ce:e.local?ae:se)(e,n))}function Qt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function he(t){return function(){this.style.removeProperty(t)}}function pe(t,n,e){return function(){this.style.setProperty(t,n,e)}}function _e(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function me(t,n,e){return arguments.length>1?this.each((n==null?he:typeof n=="function"?_e:pe)(t,n,e??"")):j(this.node(),t)}function j(t,n){return t.style.getPropertyValue(n)||Qt(t).getComputedStyle(t,null).getPropertyValue(n)}function ge(t){return function(){delete this[t]}}function ye(t,n){return function(){this[t]=n}}function de(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ve(t,n){return arguments.length>1?this.each((n==null?ge:typeof n=="function"?de:ye)(t,n)):this.node()[t]}function jt(t){return t.trim().split(/^|\s+/)}function It(t){return t.classList||new tn(t)}function tn(t){this._node=t,this._names=jt(t.getAttribute("class")||"")}tn.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function nn(t,n){for(var e=It(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function en(t,n){for(var e=It(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function we(t){return function(){nn(this,t)}}function xe(t){return function(){en(this,t)}}function be(t,n){return function(){(n.apply(this,arguments)?nn:en)(this,t)}}function Ae(t,n){var e=jt(t+"");if(arguments.length<2){for(var r=It(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?be:n?we:xe)(e,n))}function Te(){this.textContent=""}function Ee(t){return function(){this.textContent=t}}function ze(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Se(t){return arguments.length?this.each(t==null?Te:(typeof t=="function"?ze:Ee)(t)):this.node().textContent}function ke(){this.innerHTML=""}function Ne(t){return function(){this.innerHTML=t}}function Ce(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function De(t){return arguments.length?this.each(t==null?ke:(typeof t=="function"?Ce:Ne)(t)):this.node().innerHTML}function Me(){this.nextSibling&&this.parentNode.appendChild(this)}function Ie(){return this.each(Me)}function Fe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pe(){return this.each(Fe)}function Re(t){var n=typeof t=="function"?t:Ht(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function $e(){return null}function Ve(t,n){var e=typeof t=="function"?t:Ht(t),r=n==null?$e:typeof n=="function"?n:Mt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Le(){var t=this.parentNode;t&&t.removeChild(this)}function Be(){return this.each(Le)}function Oe(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Xe(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ye(t){return this.select(t?Xe:Oe)}function qe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ue(t){return function(n){t.call(this,n,this.__data__)}}function Ge(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function He(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Ke(t,n,e){return function(){var r=this.__on,i,o=Ue(n);if(r){for(var u=0,a=r.length;u<a;++u)if((i=r[u]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function We(t,n,e){var r=Ge(t+""),i,o=r.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,h;c<l;++c)for(i=0,h=a[c];i<o;++i)if((u=r[i]).type===h.type&&u.name===h.name)return h.value}return}for(a=n?Ke:He,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function rn(t,n,e){var r=Qt(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ze(t,n){return function(){return rn(this,t,n)}}function Je(t,n){return function(){return rn(this,t,n.apply(this,arguments))}}function Qe(t,n){return this.each((typeof n=="function"?Je:Ze)(t,n))}function*je(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,u;i<o;++i)(u=r[i])&&(yield u)}var on=[null];function I(t,n){this._groups=t,this._parents=n}function st(){return new I([[document.documentElement]],on)}function tr(){return this}I.prototype=st.prototype={constructor:I,select:zn,selectAll:Cn,selectChild:Fn,selectChildren:Vn,filter:Ln,data:Un,enter:Bn,exit:Hn,join:Kn,merge:Wn,selection:tr,order:Zn,sort:Jn,call:jn,nodes:te,node:ne,size:ee,empty:re,each:ie,attr:fe,style:me,property:ve,classed:Ae,text:Se,html:De,raise:Ie,lower:Pe,append:Re,insert:Ve,remove:Be,clone:Ye,datum:qe,on:We,dispatch:Qe,[Symbol.iterator]:je};function H(t){return typeof t=="string"?new I([[document.querySelector(t)]],[document.documentElement]):new I([[t]],on)}function nr(t){let n;for(;n=t.sourceEvent;)t=n;return t}function G(t,n){if(t=nr(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const er={passive:!1},ot={capture:!0,passive:!1};function Et(t){t.stopImmediatePropagation()}function Q(t){t.preventDefault(),t.stopImmediatePropagation()}function un(t){var n=t.document.documentElement,e=H(t).on("dragstart.drag",Q,ot);"onselectstart"in n?e.on("selectstart.drag",Q,ot):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function sn(t,n){var e=t.document.documentElement,r=H(t).on("dragstart.drag",null);n&&(r.on("click.drag",Q,ot),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const lt=t=>()=>t;function kt(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:u,y:a,dx:c,dy:l,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:h}})}kt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function rr(t){return!t.ctrlKey&&!t.button}function ir(){return this.parentNode}function or(t,n){return n??{x:t.x,y:t.y}}function ur(){return navigator.maxTouchPoints||"ontouchstart"in this}function zi(){var t=rr,n=ir,e=or,r=ur,i={},o=wt("start","drag","end"),u=0,a,c,l,h,b=0;function g(p){p.on("mousedown.drag",y).filter(r).on("touchstart.drag",L).on("touchmove.drag",v,er).on("touchend.drag touchcancel.drag",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(p,A){if(!(h||!t.call(this,p,A))){var T=M(this,n.call(this,p,A),p,A,"mouse");T&&(H(p.view).on("mousemove.drag",N,ot).on("mouseup.drag",D,ot),un(p.view),Et(p),l=!1,a=p.clientX,c=p.clientY,T("start",p))}}function N(p){if(Q(p),!l){var A=p.clientX-a,T=p.clientY-c;l=A*A+T*T>b}i.mouse("drag",p)}function D(p){H(p.view).on("mousemove.drag mouseup.drag",null),sn(p.view,l),Q(p),i.mouse("end",p)}function L(p,A){if(t.call(this,p,A)){var T=p.changedTouches,S=n.call(this,p,A),C=T.length,B,Z;for(B=0;B<C;++B)(Z=M(this,S,p,A,T[B].identifier,T[B]))&&(Et(p),Z("start",p,T[B]))}}function v(p){var A=p.changedTouches,T=A.length,S,C;for(S=0;S<T;++S)(C=i[A[S].identifier])&&(Q(p),C("drag",p,A[S]))}function F(p){var A=p.changedTouches,T=A.length,S,C;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),S=0;S<T;++S)(C=i[A[S].identifier])&&(Et(p),C("end",p,A[S]))}function M(p,A,T,S,C,B){var Z=o.copy(),P=G(B||T,A),at,ct,s;if((s=e.call(p,new kt("beforestart",{sourceEvent:T,target:g,identifier:C,active:u,x:P[0],y:P[1],dx:0,dy:0,dispatch:Z}),S))!=null)return at=s.x-P[0]||0,ct=s.y-P[1]||0,function _(f,m,d){var w=P,x;switch(f){case"start":i[C]=_,x=u++;break;case"end":delete i[C],--u;case"drag":P=G(d||m,A),x=u;break}Z.call(f,p,new kt(f,{sourceEvent:m,subject:s,target:g,identifier:C,active:x,x:P[0]+at,y:P[1]+ct,dx:P[0]-w[0],dy:P[1]-w[1],dispatch:Z}),S)}}return g.filter=function(p){return arguments.length?(t=typeof p=="function"?p:lt(!!p),g):t},g.container=function(p){return arguments.length?(n=typeof p=="function"?p:lt(p),g):n},g.subject=function(p){return arguments.length?(e=typeof p=="function"?p:lt(p),g):e},g.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:lt(!!p),g):r},g.on=function(){var p=o.on.apply(o,arguments);return p===o?g:p},g.clickDistance=function(p){return arguments.length?(b=(p=+p)*p,g):Math.sqrt(b)},g}var tt=0,rt=0,nt=0,an=1e3,yt,it,dt=0,J=0,bt=0,ut=typeof performance=="object"&&performance.now?performance:Date,cn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ft(){return J||(cn(sr),J=ut.now()+bt)}function sr(){J=0}function vt(){this._call=this._time=this._next=null}vt.prototype=ln.prototype={constructor:vt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Ft():+e)+(n==null?0:+n),!this._next&&it!==this&&(it?it._next=this:yt=this,it=this),this._call=t,this._time=e,Nt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nt())}};function ln(t,n,e){var r=new vt;return r.restart(t,n,e),r}function ar(){Ft(),++tt;for(var t=yt,n;t;)(n=J-t._time)>=0&&t._call.call(void 0,n),t=t._next;--tt}function Xt(){J=(dt=ut.now())+bt,tt=rt=0;try{ar()}finally{tt=0,lr(),J=0}}function cr(){var t=ut.now(),n=t-dt;n>an&&(bt-=n,dt=t)}function lr(){for(var t,n=yt,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:yt=e);it=t,Nt(r)}function Nt(t){if(!tt){rt&&(rt=clearTimeout(rt));var n=t-J;n>24?(t<1/0&&(rt=setTimeout(Xt,t-ut.now()-bt)),nt&&(nt=clearInterval(nt))):(nt||(dt=ut.now(),nt=setInterval(cr,an)),tt=1,cn(Xt))}}function Yt(t,n,e){var r=new vt;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var fr=wt("start","end","cancel","interrupt"),hr=[],fn=0,qt=1,Ct=2,pt=3,Ut=4,Dt=5,_t=6;function At(t,n,e,r,i,o){var u=t.__transition;if(!u)t.__transition={};else if(e in u)return;pr(t,e,{name:n,index:r,group:i,on:fr,tween:hr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fn})}function Pt(t,n){var e=V(t,n);if(e.state>fn)throw new Error("too late; already scheduled");return e}function X(t,n){var e=V(t,n);if(e.state>pt)throw new Error("too late; already running");return e}function V(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function pr(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=ln(o,0,e.time);function o(l){e.state=qt,e.timer.restart(u,e.delay,e.time),e.delay<=l&&u(l-e.delay)}function u(l){var h,b,g,y;if(e.state!==qt)return c();for(h in r)if(y=r[h],y.name===e.name){if(y.state===pt)return Yt(u);y.state===Ut?(y.state=_t,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[h]):+h<n&&(y.state=_t,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[h])}if(Yt(function(){e.state===pt&&(e.state=Ut,e.timer.restart(a,e.delay,e.time),a(l))}),e.state=Ct,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ct){for(e.state=pt,i=new Array(g=e.tween.length),h=0,b=-1;h<g;++h)(y=e.tween[h].value.call(t,t.__data__,e.index,e.group))&&(i[++b]=y);i.length=b+1}}function a(l){for(var h=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(c),e.state=Dt,1),b=-1,g=i.length;++b<g;)i[b].call(t,h);e.state===Dt&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=_t,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function mt(t,n){var e=t.__transition,r,i,o=!0,u;if(e){n=n==null?null:n+"";for(u in e){if((r=e[u]).name!==n){o=!1;continue}i=r.state>Ct&&r.state<Dt,r.state=_t,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[u]}o&&delete t.__transition}}function _r(t){return this.each(function(){mt(this,t)})}function mr(t,n){var e,r;return function(){var i=X(this,t),o=i.tween;if(o!==e){r=e=o;for(var u=0,a=r.length;u<a;++u)if(r[u].name===n){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function gr(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=X(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,l=i.length;c<l;++c)if(i[c].name===n){i[c]=a;break}c===l&&i.push(a)}o.tween=i}}function yr(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=V(this.node(),e).tween,i=0,o=r.length,u;i<o;++i)if((u=r[i]).name===t)return u.value;return null}return this.each((n==null?mr:gr)(e,t,n))}function Rt(t,n,e){var r=t._id;return t.each(function(){var i=X(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return V(i,r).value[n]}}function hn(t,n){var e;return(typeof n=="number"?mn:n instanceof Lt?Vt:(e=Lt(n))?(n=e,Vt):gn)(t,n)}function dr(t){return function(){this.removeAttribute(t)}}function vr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wr(t,n,e){var r,i=e+"",o;return function(){var u=this.getAttribute(t);return u===i?null:u===r?o:o=n(r=u,e)}}function xr(t,n,e){var r,i=e+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===i?null:u===r?o:o=n(r=u,e)}}function br(t,n,e){var r,i,o;return function(){var u,a=e(this),c;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),c=a+"",u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a)))}}function Ar(t,n,e){var r,i,o;return function(){var u,a=e(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),c=a+"",u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a)))}}function Tr(t,n){var e=xt(t),r=e==="transform"?yn:hn;return this.attrTween(t,typeof n=="function"?(e.local?Ar:br)(e,r,Rt(this,"attr."+t,n)):n==null?(e.local?vr:dr)(e):(e.local?xr:wr)(e,r,n))}function Er(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function zr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Sr(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&zr(t,o)),e}return i._value=n,i}function kr(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Er(t,o)),e}return i._value=n,i}function Nr(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=xt(t);return this.tween(e,(r.local?Sr:kr)(r,n))}function Cr(t,n){return function(){Pt(this,t).delay=+n.apply(this,arguments)}}function Dr(t,n){return n=+n,function(){Pt(this,t).delay=n}}function Mr(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Cr:Dr)(n,t)):V(this.node(),n).delay}function Ir(t,n){return function(){X(this,t).duration=+n.apply(this,arguments)}}function Fr(t,n){return n=+n,function(){X(this,t).duration=n}}function Pr(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Ir:Fr)(n,t)):V(this.node(),n).duration}function Rr(t,n){if(typeof n!="function")throw new Error;return function(){X(this,t).ease=n}}function $r(t){var n=this._id;return arguments.length?this.each(Rr(n,t)):V(this.node(),n).ease}function Vr(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;X(this,t).ease=e}}function Lr(t){if(typeof t!="function")throw new Error;return this.each(Vr(this._id,t))}function Br(t){typeof t!="function"&&(t=Wt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=[],c,l=0;l<u;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new W(r,this._parents,this._name,this._id)}function Or(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c=n[a],l=e[a],h=c.length,b=u[a]=new Array(h),g,y=0;y<h;++y)(g=c[y]||l[y])&&(b[y]=g);for(;a<r;++a)u[a]=n[a];return new W(u,this._parents,this._name,this._id)}function Xr(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Yr(t,n,e){var r,i,o=Xr(n)?Pt:X;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}function qr(t,n){var e=this._id;return arguments.length<2?V(this.node(),e).on.on(t):this.each(Yr(e,t,n))}function Ur(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Gr(){return this.on("end.remove",Ur(this._id))}function Hr(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Mt(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a=r[u],c=a.length,l=o[u]=new Array(c),h,b,g=0;g<c;++g)(h=a[g])&&(b=t.call(h,h.__data__,g,a))&&("__data__"in h&&(b.__data__=h.__data__),l[g]=b,At(l[g],n,e,g,l,V(h,e)));return new W(o,this._parents,n,e)}function Kr(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Kt(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c=r[a],l=c.length,h,b=0;b<l;++b)if(h=c[b]){for(var g=t.call(h,h.__data__,b,c),y,N=V(h,e),D=0,L=g.length;D<L;++D)(y=g[D])&&At(y,n,e,D,g,N);o.push(g),u.push(h)}return new W(o,u,n,e)}var Wr=st.prototype.constructor;function Zr(){return new Wr(this._groups,this._parents)}function Jr(t,n){var e,r,i;return function(){var o=j(this,t),u=(this.style.removeProperty(t),j(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}function pn(t){return function(){this.style.removeProperty(t)}}function Qr(t,n,e){var r,i=e+"",o;return function(){var u=j(this,t);return u===i?null:u===r?o:o=n(r=u,e)}}function jr(t,n,e){var r,i,o;return function(){var u=j(this,t),a=e(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),j(this,t))),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}function ti(t,n){var e,r,i,o="style."+n,u="end."+o,a;return function(){var c=X(this,t),l=c.on,h=c.value[o]==null?a||(a=pn(n)):void 0;(l!==e||i!==h)&&(r=(e=l).copy()).on(u,i=h),c.on=r}}function ni(t,n,e){var r=(t+="")=="transform"?dn:hn;return n==null?this.styleTween(t,Jr(t,r)).on("end.style."+t,pn(t)):typeof n=="function"?this.styleTween(t,jr(t,r,Rt(this,"style."+t,n))).each(ti(this._id,t)):this.styleTween(t,Qr(t,r,n),e).on("end.style."+t,null)}function ei(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function ri(t,n,e){var r,i;function o(){var u=n.apply(this,arguments);return u!==i&&(r=(i=u)&&ei(t,u,e)),r}return o._value=n,o}function ii(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,ri(t,n,e??""))}function oi(t){return function(){this.textContent=t}}function ui(t){return function(){var n=t(this);this.textContent=n??""}}function si(t){return this.tween("text",typeof t=="function"?ui(Rt(this,"text",t)):oi(t==null?"":t+""))}function ai(t){return function(n){this.textContent=t.call(this,n)}}function ci(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&ai(i)),n}return r._value=t,r}function li(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ci(t))}function fi(){for(var t=this._name,n=this._id,e=_n(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],a=u.length,c,l=0;l<a;++l)if(c=u[l]){var h=V(c,n);At(c,t,e,l,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new W(r,this._parents,t,e)}function hi(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,u){var a={value:u},c={value:function(){--i===0&&o()}};e.each(function(){var l=X(this,r),h=l.on;h!==t&&(n=(t=h).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),l.on=n}),i===0&&o()})}var pi=0;function W(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function _n(){return++pi}var U=st.prototype;W.prototype={constructor:W,select:Hr,selectAll:Kr,selectChild:U.selectChild,selectChildren:U.selectChildren,filter:Br,merge:Or,selection:Zr,transition:fi,call:U.call,nodes:U.nodes,node:U.node,size:U.size,empty:U.empty,each:U.each,on:qr,attr:Tr,attrTween:Nr,style:ni,styleTween:ii,text:si,textTween:li,remove:Gr,tween:yr,delay:Mr,duration:Pr,ease:$r,easeVarying:Lr,end:hi,[Symbol.iterator]:U[Symbol.iterator]};function _i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var mi={time:null,delay:0,duration:250,ease:_i};function gi(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function yi(t){var n,e;t instanceof W?(n=t._id,t=t._name):(n=_n(),(e=mi).time=Ft(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],a=u.length,c,l=0;l<a;++l)(c=u[l])&&At(c,t,n,l,u,e||gi(c,n));return new W(r,this._parents,t,n)}st.prototype.interrupt=_r;st.prototype.transition=yi;const ft=t=>()=>t;function di(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function K(t,n,e){this.k=t,this.x=n,this.y=e}K.prototype={constructor:K,scale:function(t){return t===1?this:new K(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new K(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $t=new K(1,0,0);vi.prototype=K.prototype;function vi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return $t;return t.__zoom}function zt(t){t.stopImmediatePropagation()}function et(t){t.preventDefault(),t.stopImmediatePropagation()}function wi(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function xi(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Gt(){return this.__zoom||$t}function bi(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ai(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ti(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function Si(){var t=wi,n=xi,e=Ti,r=bi,i=Ai,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],a=250,c=vn,l=wt("start","zoom","end"),h,b,g,y=500,N=150,D=0,L=10;function v(s){s.property("__zoom",Gt).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",Z).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",at).on("touchend.zoom touchcancel.zoom",ct).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(s,_,f,m){var d=s.selection?s.selection():s;d.property("__zoom",Gt),s!==d?A(s,_,f,m):d.interrupt().each(function(){T(this,arguments).event(m).start().zoom(null,typeof _=="function"?_.apply(this,arguments):_).end()})},v.scaleBy=function(s,_,f,m){v.scaleTo(s,function(){var d=this.__zoom.k,w=typeof _=="function"?_.apply(this,arguments):_;return d*w},f,m)},v.scaleTo=function(s,_,f,m){v.transform(s,function(){var d=n.apply(this,arguments),w=this.__zoom,x=f==null?p(d):typeof f=="function"?f.apply(this,arguments):f,E=w.invert(x),z=typeof _=="function"?_.apply(this,arguments):_;return e(M(F(w,z),x,E),d,u)},f,m)},v.translateBy=function(s,_,f,m){v.transform(s,function(){return e(this.__zoom.translate(typeof _=="function"?_.apply(this,arguments):_,typeof f=="function"?f.apply(this,arguments):f),n.apply(this,arguments),u)},null,m)},v.translateTo=function(s,_,f,m,d){v.transform(s,function(){var w=n.apply(this,arguments),x=this.__zoom,E=m==null?p(w):typeof m=="function"?m.apply(this,arguments):m;return e($t.translate(E[0],E[1]).scale(x.k).translate(typeof _=="function"?-_.apply(this,arguments):-_,typeof f=="function"?-f.apply(this,arguments):-f),w,u)},m,d)};function F(s,_){return _=Math.max(o[0],Math.min(o[1],_)),_===s.k?s:new K(_,s.x,s.y)}function M(s,_,f){var m=_[0]-f[0]*s.k,d=_[1]-f[1]*s.k;return m===s.x&&d===s.y?s:new K(s.k,m,d)}function p(s){return[(+s[0][0]+ +s[1][0])/2,(+s[0][1]+ +s[1][1])/2]}function A(s,_,f,m){s.on("start.zoom",function(){T(this,arguments).event(m).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(m).end()}).tween("zoom",function(){var d=this,w=arguments,x=T(d,w).event(m),E=n.apply(d,w),z=f==null?p(E):typeof f=="function"?f.apply(d,w):f,O=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),k=d.__zoom,R=typeof _=="function"?_.apply(d,w):_,Y=c(k.invert(z).concat(O/k.k),R.invert(z).concat(O/R.k));return function($){if($===1)$=R;else{var q=Y($),Tt=O/q[2];$=new K(Tt,z[0]-q[0]*Tt,z[1]-q[1]*Tt)}x.zoom(null,$)}})}function T(s,_,f){return!f&&s.__zooming||new S(s,_)}function S(s,_){this.that=s,this.args=_,this.active=0,this.sourceEvent=null,this.extent=n.apply(s,_),this.taps=0}S.prototype={event:function(s){return s&&(this.sourceEvent=s),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(s,_){return this.mouse&&s!=="mouse"&&(this.mouse[1]=_.invert(this.mouse[0])),this.touch0&&s!=="touch"&&(this.touch0[1]=_.invert(this.touch0[0])),this.touch1&&s!=="touch"&&(this.touch1[1]=_.invert(this.touch1[0])),this.that.__zoom=_,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(s){var _=H(this.that).datum();l.call(s,this.that,new di(s,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:l}),_)}};function C(s,..._){if(!t.apply(this,arguments))return;var f=T(this,_).event(s),m=this.__zoom,d=Math.max(o[0],Math.min(o[1],m.k*Math.pow(2,r.apply(this,arguments)))),w=G(s);if(f.wheel)(f.mouse[0][0]!==w[0]||f.mouse[0][1]!==w[1])&&(f.mouse[1]=m.invert(f.mouse[0]=w)),clearTimeout(f.wheel);else{if(m.k===d)return;f.mouse=[w,m.invert(w)],mt(this),f.start()}et(s),f.wheel=setTimeout(x,N),f.zoom("mouse",e(M(F(m,d),f.mouse[0],f.mouse[1]),f.extent,u));function x(){f.wheel=null,f.end()}}function B(s,..._){if(g||!t.apply(this,arguments))return;var f=s.currentTarget,m=T(this,_,!0).event(s),d=H(s.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",O,!0),w=G(s,f),x=s.clientX,E=s.clientY;un(s.view),zt(s),m.mouse=[w,this.__zoom.invert(w)],mt(this),m.start();function z(k){if(et(k),!m.moved){var R=k.clientX-x,Y=k.clientY-E;m.moved=R*R+Y*Y>D}m.event(k).zoom("mouse",e(M(m.that.__zoom,m.mouse[0]=G(k,f),m.mouse[1]),m.extent,u))}function O(k){d.on("mousemove.zoom mouseup.zoom",null),sn(k.view,m.moved),et(k),m.event(k).end()}}function Z(s,..._){if(t.apply(this,arguments)){var f=this.__zoom,m=G(s.changedTouches?s.changedTouches[0]:s,this),d=f.invert(m),w=f.k*(s.shiftKey?.5:2),x=e(M(F(f,w),m,d),n.apply(this,_),u);et(s),a>0?H(this).transition().duration(a).call(A,x,m,s):H(this).call(v.transform,x,m,s)}}function P(s,..._){if(t.apply(this,arguments)){var f=s.touches,m=f.length,d=T(this,_,s.changedTouches.length===m).event(s),w,x,E,z;for(zt(s),x=0;x<m;++x)E=f[x],z=G(E,this),z=[z,this.__zoom.invert(z),E.identifier],d.touch0?!d.touch1&&d.touch0[2]!==z[2]&&(d.touch1=z,d.taps=0):(d.touch0=z,w=!0,d.taps=1+!!h);h&&(h=clearTimeout(h)),w&&(d.taps<2&&(b=z[0],h=setTimeout(function(){h=null},y)),mt(this),d.start())}}function at(s,..._){if(this.__zooming){var f=T(this,_).event(s),m=s.changedTouches,d=m.length,w,x,E,z;for(et(s),w=0;w<d;++w)x=m[w],E=G(x,this),f.touch0&&f.touch0[2]===x.identifier?f.touch0[0]=E:f.touch1&&f.touch1[2]===x.identifier&&(f.touch1[0]=E);if(x=f.that.__zoom,f.touch1){var O=f.touch0[0],k=f.touch0[1],R=f.touch1[0],Y=f.touch1[1],$=($=R[0]-O[0])*$+($=R[1]-O[1])*$,q=(q=Y[0]-k[0])*q+(q=Y[1]-k[1])*q;x=F(x,Math.sqrt($/q)),E=[(O[0]+R[0])/2,(O[1]+R[1])/2],z=[(k[0]+Y[0])/2,(k[1]+Y[1])/2]}else if(f.touch0)E=f.touch0[0],z=f.touch0[1];else return;f.zoom("touch",e(M(x,E,z),f.extent,u))}}function ct(s,..._){if(this.__zooming){var f=T(this,_).event(s),m=s.changedTouches,d=m.length,w,x;for(zt(s),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),w=0;w<d;++w)x=m[w],f.touch0&&f.touch0[2]===x.identifier?delete f.touch0:f.touch1&&f.touch1[2]===x.identifier&&delete f.touch1;if(f.touch1&&!f.touch0&&(f.touch0=f.touch1,delete f.touch1),f.touch0)f.touch0[1]=this.__zoom.invert(f.touch0[0]);else if(f.end(),f.taps===2&&(x=G(x,this),Math.hypot(b[0]-x[0],b[1]-x[1])<L)){var E=H(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return v.wheelDelta=function(s){return arguments.length?(r=typeof s=="function"?s:ft(+s),v):r},v.filter=function(s){return arguments.length?(t=typeof s=="function"?s:ft(!!s),v):t},v.touchable=function(s){return arguments.length?(i=typeof s=="function"?s:ft(!!s),v):i},v.extent=function(s){return arguments.length?(n=typeof s=="function"?s:ft([[+s[0][0],+s[0][1]],[+s[1][0],+s[1][1]]]),v):n},v.scaleExtent=function(s){return arguments.length?(o[0]=+s[0],o[1]=+s[1],v):[o[0],o[1]]},v.translateExtent=function(s){return arguments.length?(u[0][0]=+s[0][0],u[1][0]=+s[1][0],u[0][1]=+s[0][1],u[1][1]=+s[1][1],v):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},v.constrain=function(s){return arguments.length?(e=s,v):e},v.duration=function(s){return arguments.length?(a=+s,v):a},v.interpolate=function(s){return arguments.length?(c=s,v):c},v.on=function(){var s=l.on.apply(l,arguments);return s===l?v:s},v.clickDistance=function(s){return arguments.length?(D=(s=+s)*s,v):Math.sqrt(D)},v.tapDistance=function(s){return arguments.length?(L=+s,v):L},v}export{wt as a,vi as b,zi as d,$t as i,G as p,H as s,ln as t,Si as z};
